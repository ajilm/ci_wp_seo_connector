$( document ).ready(function() {
    console.log( "ready!" );
 

    

var validate_form = null;
const elem = document.getElementById('foo');
const rangepicker = new DateRangePicker(elem, {
autohide: true
});

const startElem = document.getElementById('start');
const endElem = document.getElementById('end');

startElem.addEventListener('changeDate', function(e) {
console.log('start', e.detail.date);
validate_form = e.detail.date;

});

endElem.addEventListener('changeDate', function(e) {
console.log('end', e.detail.date);
validate_form = e.detail.date;
});



$('form').submit(function(e){
	// Stop the form submitting
  	e.preventDefault();
  	// Do whatever it is you wish to do
  	//...
  	// Now submit it 
    // Don't use $(this).submit() FFS!
  	// You'll never leave this function & smash the call stack! :D
    if(validate_form != null)
  	e.currentTarget.submit();
});

});